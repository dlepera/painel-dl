!function($){function e(e){var a=e.trim(),t,n;if(/^[?\[{]{1,}(.+)[}\]{1,}]?$/.test(a)){var o=$.parseJSON(a);o=/^\[/.test(a)?o[o.length-1]:o,t=o.mensagem,n=o.tipo}else t=a,n="atencao";return{msg:t,ret:n}}function a(a,o,r,s){var i;r&&(i=new FormData,$.each(n,function(e,a){i.append(t[e],a)}),$.each(a._serialize().split("&"),function(e,a){var t=/^([\w\-\[\]]+)=(.+)?$/;if(t.test(a)){var n=t.exec(a);i.append(n[1],n[2]||"")}})),$.ajax({url:o,type:"post",data:i||a._serialize(),cache:!1,processData:!r,contentType:r?!1:"application/x-www-form-urlencoded",success:function(a){var t=e(a);$("body").mostrarMsg({mensagem:t.msg,tipo:["-alerta",t.ret],botoes:s[t.ret]},!0)}})}var t=[],n=[];$.fn._serialize=function(){var e="input:not(:file), select, textarea",a=[],t=$(this),n=$.merge(t.filter("form").find(e),t.filter(e));return n.each(function(){var e=this.name,t=this.type,n=encodeURIComponent(this.value);switch(t){case"checkbox":if("on"===n)n=this.checked?"on":"off";else if(!this.checked)return;break;case"radio":if(!this.checked)return}a.push(e+"="+n)}),a.join("&")},$.fn.formulario=function(e,o){var r={controle:"",namespace:"__form",antes:function(){return!0},aparencia:{tema:"dl-formulario",estilo:"formulario"},cktodos:[!1,":checkbox:first",':checkbox[name^="[]"]'],botoes_msg:{"-sucesso":[{texto:"Fechar e continuar",classe:"-com-destaque"},{texto:"Apenas fechar",classe:"-sem-destaque"}],"-atencao":[{texto:"Ok, entendi!",classe:"-com-destaque"}],"-erro":[{texto:"Ok",classe:"-com-destaque"}]}};if(e=$.extend(o===!0,{},r,e),e.cktodos[0]){var s=$(e.cktodos[1]),i=$(e.cktodos[2]);s.click(function(){i.each(function(){$(this).prop("checked",s.prop("checked"))})})}return $(this).each(function(){var o=$(this);o.find("input:not(:hidden):not([readonly]), select, textarea").each(function(e){$(this).attr({tabindex:e+1})}),""===e.controle&&(e.controle=o.attr("action"));var r="multipart/form-data"===o.attr("enctype")&&o.find(":file").length>0;return r&&o.find(":file").on("change",function(e){var a=this.name;$.each(e.target.files,function(e,o){t.push(a),n.push(o)})}),o.find("[data-vld-func]").off("."+e.namespace).on("change."+e.namespace+" blur."+e.namespace,function(e){var a=$(this),t=e.target,n=window[a.data("vld-func")],o=a.data("vld-msg"),r="file"===this.type?{arq:t.files,exts:a.data("vld-exts"),max:a.data("vld-max")}:a.val();return"function"!=typeof n?(console.error("A função "+n+" não existe ou não pode ser acessada!"),!1):formValidacao(""!==r&&!n(r),t,o)}).trigger("change."+e.namespace),o.find(":submit").on("click."+e.namespace,function(){var e=$(this).parents("form"),a=e.find("[required]:not(:visible)");a.prop("disabled",!0),e[0].checkValidity()||a.prop("disabled",!1)}),o.off("."+e.namespace).on("submit."+e.namespace,function(t,n,s,i){if(t.stopPropagation(),t.preventDefault(),!e.antes()||"function"==typeof s&&!s())return!1;var c=o.find('[data-verificar-alteracao="1"][data-alterado="0"]');c.length>0?$("body").msgConfirmacao({titulo:"Alteração de informações",mensagem:"Você não alterou algum(ns) campo(s) necessários.<br/><br/>Deseja continuar assim mesmo?",botao_sim:{texto:"Sim",classe:"-sim",funcao:function(){a(o,n||e.controle,r,i||e.botoes_msg)}},botao_nao:{texto:"Não",classe:"-nao",funcao:function(){return!1}}}):a(o,n||e.controle,r,i||e.botoes_msg)}),o})},$.fn.executar=function(e,a,t,n){return this.each(function(){(!n||this.validity&&this.checkValidity())&&$(this).trigger("submit",[e,a,t])})}}(jQuery),function($){function e(e){return e.replace(/#/g,"_")}function a(e){var a=e.replace(/[#_]/g,"");return a=/[a-zA-Z]/.test(e)?"("+a+")":"["+a+"]",new RegExp(a,"g")}function t(e,t){return e.replace(a(t),"").replace(/_/g,"")}function n(e,a){for(var n=t(e,a),o=a,r=n.length,s=0;r>s;s++)o=o.replace("_",n[s]);return o}$.fn.mascara=function(a){var o=$(this),r="keydown",s="__msk",i=e(a);return o.off("."+s).on(r+"."+s,function(e){var a=e.target,t=e.keyCode||e.charCode||e.which,o=e.metaKey||e.ctrlKey;!o&&t>47&&90>t&&(a.value=n(a.value+String.fromCharCode(t),i));var r=this.value.indexOf("_");r>-1&&"function"==typeof moverCursor&&moverCursor(a,r)}).on("focus."+s,{mask:a},function(a){var t=a.target;t.value=n(t.value,e(a.data.mask))}).on("blur."+s,{mask:a,mask_c:i},function(e){var a=e.target;a.value=a.value===e.data.mask_c?"":n(a.value,e.data.mask_c)}).on("paste."+s,{mask:a},function(e){var a=e.target;a.value=t(a.value,e.data.mask)}).attr("maxlength",a.length).prop("autocomplete",!1),o},$.fn.removerMascara=function(){$(this).off(".__msk").removeAttr("maxlength")}}(jQuery),function($){function e(e,a){var n=null;return $(e).parents("."+t).fadeOut("fast",function(){$(this).remove(),"function"==typeof a&&(n=a())}),n}var a={},t="__jQuery-mostrarMsg";$.fn.mostrarMsg=function(n,o){var r=$(this),s={mensagem:"Português: Mensagem padrão!\nEnglish: Default menssage!",tipo:["-alerta","-atencao"],exec_depois:!1,tempo:{num:1e4,exibir:!0},botoes:[{texto:"Ok",classe:"-com-destaque",funcao:function(){return!0},padrao:!1}],aparencia:{tema:plugin_formulario_tema||"dl-formulario",estilo:"mostrarmsg.tema"}};n=$.extend(o===!0,{},s,n),"function"==typeof carregarCSS&&carregarCSS("web/js/min/dl-formulario/temas/"+n.aparencia.tema+"/css/"+n.aparencia.estilo+".css");var i="__msg",c=$(document.createElement("div")).addClass(t+" "+n.aparencia.tema+" "+n.tipo.join(" ")).appendTo(r),u=$(document.createElement("p")).addClass("paragr").appendTo(c);$(document.createElement("span")).addClass("texto").html(n.mensagem).appendTo(u);for(var m=$(document.createElement("div")).addClass("botoes").appendTo(u),f=n.botoes.length,l,d=function(a){e(this,a.data.funcao)},p=0;f>p;p++)l=n.botoes[p],$(document.createElement("button")).addClass("botao "+(l.classe||"")).text(l.texto).attr({type:"button","data-padrao":l.padrao}).on("click."+i,{funcao:l.funcao},d).appendTo(m);if(setTimeout(function(){r.find(':button[data-padrao="true"]').trigger("click."+i)},n.tempo.num),n.tempo.exibir){var h=$(document.createElement("span")).addClass("tempo").html("Esta mensagem sumirá automaticamente em <b>"+n.tempo.num/1e3+"</b> segundos").appendTo(c),g=a.length+1;a[g]=window.setInterval(function(){var e=h.find("b"),t=parseInt(e.text());1===t&&window.clearTimeout(a[g]),e.text(t-1)},1e3)}return $(window).on("keyup."+i,function(e){var a=e.keyCode||e.charCode||e.which;27===a&&r.find('[data-padrao="true"]').trigger("click."+i)}),c},$.fn.msgConfirmacao=function(e){var a=$(this),t={titulo:"Confirmação",mensagem:"Português: Mensagem padrão!\nEnglish: Default menssage!",tipo:["-confirmacao"],botao_sim:{texto:"Sim",classe:"-sim",funcao:function(){return!0}},botao_nao:{texto:"Não",classe:"-nao",funcao:function(){return!1},padrao:!0},aparencia:{tema:plugin_formulario_tema||"dl-formulario",estilo:"mostrarmsg.tema"}};return e=$.extend({},t,e),a.mostrarMsg({mensagem:'<span class="titulo">'+e.titulo+"</span>"+e.mensagem,tipo:e.tipo,botoes:[e.botao_sim,e.botao_nao],tempo:{num:9999999999,exibir:!1},aparencia:e.aparencia})}}(jQuery);