function executarConfirm(a,o,t){return $("body").msgConfirmacao({titulo:t||"Confirmação",mensagem:a,botao_sim:{texto:"Sim",classe:"-sim",funcao:function(){return o()}},botao_nao:{texto:"Não",classe:"-nao",funcao:function(){return!1},padrao:!0}}),!0}function verificarAlteracao(a){var o=$(a),t=o.attr("value"),c=o.val();o.attr("data-alterado",(t!==c)+0)}function fazerLogout(){$.ajax({url:"login/fazer-logout",dataType:"json",success:function(a){var o=a.length,t={"-sucesso":[{texto:"Atualizar a página",classe:"-com-destaque",funcao:function(){window.location=$("base").attr("href")},padrao:!0}]};a=o>0?a[a.length-1]:a,$("body").mostrarMsg({mensagem:a.mensagem,tipo:["-alerta",a.tipo],botoes:t[a.tipo]},!1)}})}function albumModal(a,o){$.ajax({url:a+"/"+(o||"conteudo"),dataType:"html",async:!1,success:function(a){$("body").append(a)}})}function confirmarSubmit(a,o,t){var c=$(a),r=c.parents("form"),n=c.data("acao-param-msg")||t;r[0].checkValidity()&&(o.stopPropagation(),o.preventDefault(),executarConfirm(n,function(){r.find(":submit").off(".__acao").trigger("click").on("click.__acao",function(a){confirmarSubmit(this,a)})},"Confirmar ação"))}$('[data-acao="publicar-registro"], [data-acao="ocultar-registro"]').on("click.__acao",function(){var a=$(this);selecionarLinha(this,!0),alternarPublicacao(a.data("acao-param-dir"))}),$('[data-acao="excluir-registro"]').on("click.__acao",function(){var a=this,o=$(this),t=o.data("acao-param-form"),c=o.data("acao-param-executar"),r="undefined"==typeof $el?$(t):$el;return executarConfirm("Deseja realmente excluir esse(s) registro(s)?",function(){selecionarLinha(a,!0),void 0===c?r.submit():r.executar(c,null,{"-sucesso":[{texto:"Fechar",classe:"-com-destaque",funcao:function(){window.location.reload()},padrao:!0}]})},"Confirmar exclusão")}),$('[data-acao="testar-email"]').on("click.__acao",function(){var a=$(this);$el.executar(a.data("acao-param-dir"),null,function(){return null})}),$('[data-acao="bloquear-usuarios"], [data-acao="desbloquear-usuarios"]').on("click",function(){var a=$(this);selecionarLinha(this,!0),$el.executar(a.data("acao-param-dir"),null,function(){window.location.reload()},!1)}),$('[data-acao="carregar-html"]').on("click.__acao",function(){var a=$(this);carregarHTML(a.data("acao-param-html"),"html",a.data("acao-param-pgmestra"))}),$('[data-acao="carregar-form"]').on("click.__acao",function(){var $th=$(this),func=$th.data("acao-param-func")||"window.location.reload()";carregarForm($th.data("acao-param-html"),"form",function(){eval("("+func+")")})}),$('[data-verificar-alteracao="1"]').on("change.__acao",function(){verificarAlteracao(this)}),$('[data-acao="confirmar-submit"]').on("click.__acao",function(a){confirmarSubmit(this,a)}),$("[data-mask]").each(function(){var a=$(this);a.mascara(a.data("mask"))}),$('[data-acao="criar-funcionalidades"]').on("click.__acao",function(){var a=$(this),o=a.data("acao-param-pk");$.ajax({url:"desenvolvedor/modulos/editar/"+o+"/criar-funcionalidades-padrao",dataType:"json",success:function(a){a=a[a.length-1],$("body").mostrarMsg({mensagem:a.mensagem,tipo:["-alerta",a.tipo],botoes:[{funcao:function(){window.location.reload()}}]},!0)}})}),$('[data-acao="fazer-logout"]').on("click.__acao",fazerLogout),$('[data-acao="album-modal"]').on("click.__acao",function(){var a=$(this);albumModal(a.data("acao-param-html"),a.data("acao-param-pgmestra"))});