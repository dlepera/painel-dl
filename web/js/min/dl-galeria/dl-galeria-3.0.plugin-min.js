!function($){function a(a,o,i){var d=a.find(e),s=a.find(t),l=a.find(n),c=d.length-1,r=d.filter(":visible").css("display");if(i=i||!1,0>o||o>c){if(!i)return null;0>o?o=c:o>c&&(o=0)}d.css("display","none").filter(":eq("+o+")").css("display",r),s.find(".link.-atual").removeClass("-atual"),s.find(".link:eq("+o+")").addClass("-atual"),l.filter(".-atual").removeClass("-atual"),l.filter(":eq("+o+")").addClass("-atual")}var e=".grade-fotos > .foto",t=".grade-fotos > .indic",n=".grade-minis > .foto > .imagem";$.fn.galeriaFotos=function(t,n){var o=$(this),i={minis:!1,naveg:!1,indicador:!1,fotos:[],animacao:"rotacionar .35s linear",tema:"galeria-2",autotroca:{ativar:!1,tempo:1e4},teclaesc:!1,botaofechar:!1};t=$.extend(n===!0,{},i,t),"function"==typeof carregarCSS&&carregarCSS("web/js/min/dl-galeria/temas/"+t.tema+"/css/galeria-fotos.tema.css"),o.addClass("__jQuery-galeriaFotos "+t.tema);var d=t.fotos.length,s="__fotos",l,c,r,f,m,u=$(document.createElement("div")).addClass("grade-fotos").appendTo(o);for(l=0;d>l;l++)c=t.fotos[l],r=$(document.createElement("figure")).addClass("foto").appendTo(u),m=$(document.createElement("img")).addClass("imagem").attr({src:c.src,title:c.titulo}).appendTo(r),t.animacao.length>0&&m.css({"-webkit-animation":t.animacao,animation:t.animacao}),(c.titulo||c.descr)&&(f=$(document.createElement("figcaption")).addClass("infos").appendTo(r),c.titulo&&$(document.createElement("p")).addClass("titulo").text(c.titulo).appendTo(f),c.descr&&$(document.createElement("p")).addClass("descr").text(c.descr).appendTo(f));var p=u.clone().removeClass("grade-fotos").addClass("grade-minis");if(t.naveg||t.indicador){var v=$(document.createElement("a")).attr("href","javascript:").addClass("link");if(t.naveg){var C=$(document.createElement("nav")).addClass("naveg").appendTo(u);v.clone().addClass("link -primeira").text("Primeira").on("click."+s,{DOM:o},function(e){a(e.data.DOM,0,!1)}).appendTo(C),v.clone().addClass("link -anterior").text("Anterior").on("click."+s,{DOM:o},function(t){a(t.data.DOM,t.data.DOM.find(e+":visible").index()-1,!1)}).appendTo(C),v.clone().addClass("link -proxima").text("Próximo").on("click."+s,{DOM:o},function(t){a(t.data.DOM,t.data.DOM.find(e+":visible").index()+1)}).appendTo(C),v.clone().addClass("link -ultima").text("Última").on("click."+s,{DOM:o,ultima:d-1},function(e){a(e.data.DOM,e.data.ultima,!1)}).appendTo(C)}if(t.indicador){var g,O=$(document.createElement("nav")).addClass("indic").appendTo(u);for(l=0;d>l;l++)g=l+1,v.clone().addClass(1===g?"link -atual":"").text(g).on("click."+s,{DOM:o,pos:g-1},function(e){a(e.data.DOM,e.data.pos,!1)}).appendTo(O)}}t.minis&&p.appendTo(o).find("> .foto").on("click."+s,{DOM:o},function(e){a(e.data.DOM,$(this).index(),!1)}).find("> .infos").remove(),t.teclaesc&&$(window).on("keyup."+s,{DOM:o},function(a){var e=a.keyCode||a.charCode||a.which;27===e&&a.data.DOM.fadeOut("fast")}),t.botaofechar&&$(document.createElement("button")).attr("type","button").addClass("btn-fechar").text("Fechar").on("click."+s,{DOM:o},function(a){a.data.DOM.fadeOut("fast",function(){$(this).remove()})}).appendTo(o),t.autotroca.ativar&&window.setInterval(function(){a(o,o.find(e+":visible").index()+1,!0)},t.autotroca.tempo)}}(jQuery);