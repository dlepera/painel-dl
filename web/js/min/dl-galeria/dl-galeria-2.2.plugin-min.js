!function($){function a(a,n,i){var o=a.find(e),d=a.find(t),s=o.length-1,c=o.filter(":visible").css("display");if(i=i||!1,0>n||n>s){if(!i)return null;0>n?n=s:n>s&&(n=0)}o.css("display","none").filter(":eq("+n+")").css("display",c),d.find(".link-atual").removeClass("link-atual"),d.find('[class$="-link"]:eq('+n+")").addClass("link-atual")}var e='[class$="-fotos"] > [class$="-foto"]',t='[class$="-fotos"] > [class$="-indic"]';$.fn._galeria=function(t){var n=$(this),i={minis:!1,naveg:!1,indicador:!1,fotos:[],aparencia:{tema:"galeria-2",estilo:"galeria"},autotroca:{ativar:!1,tempo:1e4},teclaesc:!1,botaofechar:!1};t=$.extend({},i,t),"function"==typeof carregarCSS&&carregarCSS("web/js/min/dl-galeria/temas/"+t.aparencia.tema+"/css/"+t.aparencia.estilo+".css"),n.addClass("__fotos-plugin "+t.aparencia.tema+" "+t.aparencia.estilo);var o=t.fotos.length,d="__fotos",s=t.aparencia.tema,c,l,r,f,p=$(document.createElement("div")).addClass(s+"-fotos").appendTo(n);for(c=0;o>c;c++)l=t.fotos[c],r=$(document.createElement("figure")).addClass(s+"-foto").appendTo(p),$(document.createElement("img")).addClass(s+"-img").attr({src:l.src,title:l.titulo}).appendTo(r),(l.titulo||l.descr)&&(f=$(document.createElement("figcaption")).addClass(s+"-infos").appendTo(r),l.titulo&&$(document.createElement("p")).addClass(s+"-titulo").text(l.titulo).appendTo(f),l.descr&&$(document.createElement("p")).addClass(s+"-descr").text(l.descr).appendTo(f));var u=p.clone().removeClass(s+"-fotos").addClass(s+"-minis");if(t.naveg||t.indicador){var m=$(document.createElement("a")).attr("href","javascript:").addClass(s+"-link");if(t.naveg){var v=$(document.createElement("nav")).addClass(s+"-naveg").appendTo(p);m.clone().addClass("link-primeira").text("|<").on("click."+d,{DOM:n},function(e){a(e.data.DOM,0,!1)}).appendTo(v),m.clone().addClass("link-anterior").text("<<").on("click."+d,{DOM:n},function(t){a(t.data.DOM,t.data.DOM.find(e+":visible").index()-1,!1)}).appendTo(v),m.clone().addClass("link-proxima").text(">>").on("click."+d,{DOM:n},function(t){a(t.data.DOM,t.data.DOM.find(e+":visible").index()+1)}).appendTo(v),m.clone().addClass("link-ultima").text(">|").on("click."+d,{DOM:n,ultima:o-1},function(e){a(e.data.DOM,e.data.ultima,!1)}).appendTo(v)}if(t.indicador){var C,O=$(document.createElement("nav")).addClass(s+"-indic").appendTo(p);for(c=0;o>c;c++)C=c+1,m.clone().addClass(1===C?"link-atual":"").text(C).on("click."+d,{DOM:n,pos:C-1},function(e){a(e.data.DOM,e.data.pos,!1)}).appendTo(O)}}t.minis&&u.appendTo(n).find("> ."+s+"-foto").on("click."+d,{DOM:n},function(e){a(e.data.DOM,$(this).index(),!1)}).each(function(){$(this).find("> ."+s+"-infos").remove()}),t.teclaesc&&$(window).on("keyup."+d,{DOM:n},function(a){var e=a.keyCode||a.charCode||a.which;27===e&&a.data.DOM.fadeOut("fast")}),t.botaofechar&&$(document.createElement("button")).attr("type","button").text("x fechar").on("click."+d,{DOM:n},function(a){a.data.DOM.fadeOut("fast")}).appendTo(n),t.autotroca.ativar&&window.setInterval(function(){a(n,n.find(e+":visible").index()+1,!0)},t.autotroca.tempo)}}(jQuery);