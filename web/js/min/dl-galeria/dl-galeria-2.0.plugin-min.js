!function($){$.fn._dlgaleria=function(e){var a=$(this),t={minis:!1,naveg:!1,indicador:!1,fotos:[],transicao:{nome:"fade",tempo:"0.5s"},aparencia:{tema:"galeria-2",estilo:"galeria"},autotroca:{ativar:!1,tempo:1e4},teclaesc:!1,botaofechar:!1};e=$.extend({},t,e),"function"==typeof carregarCSS&&carregarCSS("web/js/min/dl-galeria/temas/"+e.aparencia.tema+"/css/"+e.aparencia.estilo+".css"),a.addClass("__fotos-plugin "+e.aparencia.tema+" "+e.aparencia.estilo);var i=e.fotos.length,o="__fotos";if(1>i)return a.html("Nenhuma foto encontrada"),a;for(var n=$(document.createElement("div")).addClass("dl-galeria-fotos").appendTo(a),r,c,d,l=0;i>l;l++)r=e.fotos[l],c=$(document.createElement("figure")).attr({onclick:void 0!==r.ir?'window.location = "'+r.ir+'";':""}).on("click."+o,{ir:r.ir},function(e){void 0!==e.data.ir&&(window.location=e.data.ir)}).appendTo(n),$(document.createElement("img")).attr({src:r.src}).appendTo(c),(void 0!==r.titulo&&""!==r.titulo||void 0!==r.descr&&""!==r.descr)&&(d=$(document.createElement("figcaption")).appendTo(c),void 0!==r.titulo&&""!==r.titulo&&$(document.createElement("h2")).html(r.titulo).appendTo(d),void 0!==r.descr&&""!==r.descr&&$(document.createElement("p")).html(r.descr).appendTo(d));if(e.minis){var s=$(document.createElement("div")).addClass("dl-galeria-minis").appendTo(a);for(l=0;i>l;l++)r=e.fotos[l],c=$(document.createElement("figure")).on("click",function(){a.find(".dl-galeria-fotos > figure")._dltrocaritem($(this).index(),e.transicao)}).appendTo(s),$(document.createElement("img")).attr({src:r.src}).appendTo(c)}if(e.naveg){var f=$(document.createElement("nav")).addClass("dl-galeria-naveg").appendTo(a);$(document.createElement("a")).attr({href:"javascript:"}).html("|<").on("click",function(){a.find(".dl-galeria-fotos > figure")._dltrocaritem(0,e.transicao,!1)}).appendTo(f),$(document.createElement("a")).attr({href:"javascript:"}).on("click",function(){a.find(".dl-galeria-fotos > figure")._dltrocaritem(a.find(".dl-galeria-fotos > figure:visible").index()-1,e.transicao,!1)}).html("<").appendTo(f),$(document.createElement("a")).attr({href:"javascript:"}).on("click",function(){a.find(".dl-galeria-fotos > figure")._dltrocaritem(a.find(".dl-galeria-fotos > figure:visible").index()+1,e.transicao,!1)}).html(">").appendTo(f),$(document.createElement("a")).attr({href:"javascript:"}).on("click",function(){a.find(".dl-galeria-fotos > figure")._dltrocaritem(i,e.transicao,!1)}).html(">|").appendTo(f)}if(e.indicador){var m=$(document.createElement("div")).addClass("dl-galeria-indicador").appendTo(a);for(l=0;i>l;l++)$(document.createElement("a")).text(l+1).attr({href:"javascript:"}).on("click."+o,function(){var t=$(this);a.find(".dl-galeria-fotos > figure")._dltrocaritem(t.index(),e.transicao,!1)}).appendTo(m)}return e.autotroca.ativar&&window.setInterval(function(){a.find(".dl-galeria-fotos > figure")._dltrocaritem(a.find(".dl-galeria-fotos > figure:visible").index()+1,e.transicao,e.loop)},e.autotroca.tempo),e.teclaesc&&$(window).on("keyup."+o,function(e){var t=e.keyCode||e.charCode||e.which;27===t&&a.fadeOut("fast",function(){$(this).remove()})}),e.botaofechar&&$(document.createElement("button")).text("X").addClass("btn-x").on("click",function(){a.fadeOut("fast",function(){$(this).remove()})}).appendTo(a),a},$.fn._dltrocaritem=function(e,a,t){var i=$(this),o=i.length-1;return e=t?0>e?o:e>o-1?0:e:0>e?0:e>o?o:e,i.filter(":visible").fadeOut("fast",function(){i.filter(":eq("+e+")").css({display:"block",animation:a.nome+" "+a.tempo+" forwards"}),i.parents("div").find(".dl-galeria-indicador > a").removeClass("atual").filter(":eq("+e+")").addClass("atual")}),i}}(jQuery);